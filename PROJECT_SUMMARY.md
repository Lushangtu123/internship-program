# é¡¹ç›®å®Œæˆæ‘˜è¦

## ğŸ‰ é¡¹ç›®å·²æˆåŠŸåˆ›å»ºï¼

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç±»TikTokçŸ­è§†é¢‘ä¿¡æ¯æµåº”ç”¨ï¼ŒåŸºäºNext.js 14ã€TypeScriptã€Tailwind CSSæ„å»ºã€‚

---

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### 1. æ ¸å¿ƒåŠŸèƒ½
- âœ… å‚ç›´æ»šåŠ¨è§†é¢‘ä¿¡æ¯æµï¼ˆä¸€ä¸ªè§†é¢‘å æ»¡ä¸€å±ï¼‰
- âœ… åŸºäºIntersectionObserverçš„è‡ªåŠ¨æ’­æ”¾/æš‚åœ
- âœ… æ— é™æ»šåŠ¨å’Œæ¸¸æ ‡åˆ†é¡µ
- âœ… è§†é¢‘é¢„åŠ è½½ï¼ˆå‰åè§†é¢‘ï¼‰
- âœ… å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼‰

### 2. äº¤äº’åŠŸèƒ½
- âœ… ç‚¹èµåŠŸèƒ½ï¼ˆå¸¦ä¹è§‚æ›´æ–°ï¼‰
- âœ… åŒå‡»ç‚¹èµåŠ¨ç”»
- âœ… è¯„è®ºæŠ½å±‰ï¼ˆå¸¦ä¹è§‚æ›´æ–°ï¼‰
- âœ… åˆ†äº«åŠŸèƒ½ï¼ˆæ”¯æŒWeb Share APIï¼‰
- âœ… æ”¶è—åŠŸèƒ½
- âœ… éŸ³é‡æ§åˆ¶å’Œé™éŸ³åˆ‡æ¢
- âœ… éŸ³ä¹æ ‡ç­¾åŠ¨ç”»

### 3. é”®ç›˜å¿«æ·é”®
- âœ… J/â†“: ä¸‹ä¸€ä¸ªè§†é¢‘
- âœ… K/â†‘: ä¸Šä¸€ä¸ªè§†é¢‘
- âœ… M: é™éŸ³/å–æ¶ˆé™éŸ³
- âœ… C: åˆ‡æ¢å­—å¹•
- âœ… /: èšç„¦è¯„è®º

### 4. æ— éšœç¢åŠŸèƒ½
- âœ… ARIAæ ‡ç­¾
- âœ… é”®ç›˜å¯¼èˆª
- âœ… ç„¦ç‚¹ç®¡ç†
- âœ… prefers-reduced-motionæ”¯æŒ
- âœ… å­—å¹•æ”¯æŒ

### 5. æ€§èƒ½ç›‘æ§
- âœ… QoEæŒ‡æ ‡æ”¶é›†
- âœ… TTFF (é¦–å¸§æ—¶é—´)
- âœ… å¡é¡¿æ£€æµ‹
- âœ… ç”¨æˆ·äº¤äº’ç»Ÿè®¡
- âœ… è°ƒè¯•é¢æ¿ (?debug=1)

### 6. æµ‹è¯•
- âœ… å•å…ƒæµ‹è¯• (Vitest)
- âœ… E2Eæµ‹è¯• (Playwright)
- âœ… Lighthouse CIé…ç½®

---

## ğŸ“ é¡¹ç›®ç»“æ„

\`\`\`
internship-program/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (feed)/                   # ä¿¡æ¯æµè·¯ç”±ç»„
â”‚   â”‚   â”œâ”€â”€ page.tsx             # ä¸»é¡µé¢
â”‚   â”‚   â””â”€â”€ layout.tsx           # å¸ƒå±€
â”‚   â”œâ”€â”€ api/                      # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ videos/              # è§†é¢‘API
â”‚   â”‚   â””â”€â”€ telemetry/           # é¥æµ‹API
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ providers.tsx            # æä¾›è€…ç»„ä»¶
â”‚   â””â”€â”€ globals.css              # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ components/                   # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ui/                      # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â””â”€â”€ scroll-area.tsx
â”‚   â”œâ”€â”€ VideoCard.tsx            # è§†é¢‘å¡ç‰‡ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼‰
â”‚   â”œâ”€â”€ ActionsBar.tsx           # åŠ¨ä½œæ 
â”‚   â”œâ”€â”€ CommentsDrawer.tsx       # è¯„è®ºæŠ½å±‰
â”‚   â”œâ”€â”€ CaptionBadge.tsx         # æ ‡é¢˜å¾½ç« 
â”‚   â””â”€â”€ DebugPanel.tsx           # è°ƒè¯•é¢æ¿
â”‚
â”œâ”€â”€ lib/                         # å·¥å…·å‡½æ•°å’ŒHooks
â”‚   â”œâ”€â”€ useAutoplay.ts           # è‡ªåŠ¨æ’­æ”¾Hook
â”‚   â”œâ”€â”€ usePrefetch.ts           # é¢„åŠ è½½Hook
â”‚   â”œâ”€â”€ keyboard.ts              # é”®ç›˜å¿«æ·é”®Hook
â”‚   â”œâ”€â”€ qoe.ts                   # QoEç›‘æ§å™¨
â”‚   â”œâ”€â”€ store.ts                 # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ api.ts                   # APIè¾…åŠ©å‡½æ•°
â”‚   â””â”€â”€ utils.ts                 # é€šç”¨å·¥å…·
â”‚
â”œâ”€â”€ types/                       # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ video.ts                 # è§†é¢‘ç›¸å…³ç±»å‹
â”‚   â””â”€â”€ qoe.ts                   # QoEç±»å‹
â”‚
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ mock/
â”‚   â”‚   â””â”€â”€ seed.json           # Mockæ•°æ®
â”‚   â”œâ”€â”€ posters/                # è§†é¢‘æµ·æŠ¥
â”‚   â”œâ”€â”€ avatars/                # ç”¨æˆ·å¤´åƒ
â”‚   â””â”€â”€ captions/               # VTTå­—å¹•æ–‡ä»¶
â”‚
â”œâ”€â”€ __tests__/                   # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ useAutoplay.test.ts
â”‚   â””â”€â”€ utils.test.ts
â”‚
â”œâ”€â”€ e2e/                         # E2Eæµ‹è¯•
â”‚   â””â”€â”€ feed.spec.ts
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£èµ„æº
â”‚
â”œâ”€â”€ package.json                 # ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ tailwind.config.ts           # Tailwindé…ç½®
â”œâ”€â”€ next.config.js               # Next.jsé…ç½®
â”œâ”€â”€ vitest.config.ts             # Vitesté…ç½®
â”œâ”€â”€ playwright.config.ts         # Playwrighté…ç½®
â”œâ”€â”€ .lighthouserc.json          # Lighthouse CIé…ç½®
â”‚
â”œâ”€â”€ readme.md                    # åŸå§‹éœ€æ±‚æ–‡æ¡£
â”œâ”€â”€ README_PROJECT.md            # é¡¹ç›®è¯´æ˜ï¼ˆä¸­æ–‡ï¼‰
â”œâ”€â”€ INSTRUCTIONS.md              # è®¾ç½®è¯´æ˜
â””â”€â”€ PROJECT_SUMMARY.md           # æœ¬æ–‡ä»¶
\`\`\`

---

## ğŸš€ å¦‚ä½•è¿è¡Œ

### 1. å®‰è£…ä¾èµ–
\`\`\`bash
npm install
# æˆ–
pnpm install
\`\`\`

### 2. è¿è¡Œå¼€å‘æœåŠ¡å™¨
\`\`\`bash
npm run dev
\`\`\`

è®¿é—®: http://localhost:3000

### 3. æŸ¥çœ‹è°ƒè¯•æ¨¡å¼
è®¿é—®: http://localhost:3000?debug=1

### 4. è¿è¡Œæµ‹è¯•
\`\`\`bash
# å•å…ƒæµ‹è¯•
npm run test

# E2Eæµ‹è¯•
npm run e2e

# Lighthouse CI
npm run lhci
\`\`\`

---

## ğŸ¨ æŠ€æœ¯äº®ç‚¹

### 1. è‡ªåŠ¨æ’­æ”¾å®ç°
ä½¿ç”¨`IntersectionObserver`ç›‘å¬è§†é¢‘å¯è§æ€§ï¼š
- é˜ˆå€¼è®¾ç½®ä¸º0.7ï¼ˆ70%å¯è§æ—¶æ’­æ”¾ï¼‰
- è‡ªåŠ¨æš‚åœä¸å¯è§è§†é¢‘
- é¢„åŠ è½½ç›¸é‚»è§†é¢‘

### 2. æ€§èƒ½ä¼˜åŒ–
- è§†é¢‘é¢„åŠ è½½ç­–ç•¥
- ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- React Queryç¼“å­˜ç­–ç•¥
- Zustandè½»é‡çº§çŠ¶æ€ç®¡ç†
- è™šæ‹Ÿæ»šåŠ¨å‡†å¤‡

### 3. ç”¨æˆ·ä½“éªŒ
- ä¹è§‚æ›´æ–°ï¼ˆç‚¹èµã€è¯„è®ºï¼‰
- åŒå‡»ç‚¹èµåŠ¨ç”»
- å¹³æ»‘æ»šåŠ¨
- å“åº”å¼è¯„è®ºæŠ½å±‰
- å®Œæ•´é”®ç›˜æ”¯æŒ

### 4. ç›‘æ§å’Œè°ƒè¯•
- å®æ—¶QoEæŒ‡æ ‡
- æ€§èƒ½ç›‘æ§
- è°ƒè¯•é¢æ¿
- Lighthouse CIé›†æˆ

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

é¡¹ç›®é…ç½®äº†ä»¥ä¸‹æ€§èƒ½ç›®æ ‡ï¼š
- TTI â‰¤ 1.5s
- CLS â‰¤ 0.02
- è§†é¢‘é¦–å¸§ â‰¤ 250ms
- JSåŒ…å¤§å° < 200KB (gzip)

---

## ğŸ”‘ å…³é”®æ–‡ä»¶è¯´æ˜

### ç»„ä»¶å±‚
- **VideoCard.tsx**: æ ¸å¿ƒè§†é¢‘ç»„ä»¶ï¼Œå¤„ç†æ’­æ”¾ã€äº¤äº’ã€å åŠ å±‚
- **ActionsBar.tsx**: ç‚¹èµ/è¯„è®º/åˆ†äº«åŠ¨ä½œæŒ‰é’®
- **CommentsDrawer.tsx**: è¯„è®ºæŠ½å±‰ï¼Œæ”¯æŒä¹è§‚æ›´æ–°

### é€»è¾‘å±‚
- **useAutoplay.ts**: è‡ªåŠ¨æ’­æ”¾é€»è¾‘ï¼ŒQoEè¿½è¸ª
- **keyboard.ts**: é”®ç›˜å¿«æ·é”®å¤„ç†
- **qoe.ts**: QoEæŒ‡æ ‡æ”¶é›†å™¨
- **store.ts**: å…¨å±€UIçŠ¶æ€

### APIå±‚
- **app/api/videos/route.ts**: è§†é¢‘åˆ—è¡¨API
- **app/api/videos/[id]/like/route.ts**: ç‚¹èµAPI
- **app/api/videos/[id]/comments/route.ts**: è¯„è®ºAPI

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### åŠŸèƒ½å¢å¼º
1. æ·»åŠ çœŸå®çš„è§†é¢‘CDNé›†æˆ
2. å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
3. æ·»åŠ è§†é¢‘ä¸Šä¼ åŠŸèƒ½
4. å®ç°æ¨èç®—æ³•
5. æ·»åŠ ç›´æ’­åŠŸèƒ½

### æ€§èƒ½ä¼˜åŒ–
1. å®ç°è™šæ‹Ÿåˆ—è¡¨ï¼ˆå¤„ç†å¤§é‡è§†é¢‘ï¼‰
2. æ·»åŠ Service Workerï¼ˆPWAï¼‰
3. å®ç°è‡ªé€‚åº”æ¯”ç‰¹ç‡
4. ä¼˜åŒ–å›¾ç‰‡åŠ è½½
5. æ·»åŠ CDNæ”¯æŒ

### åŠŸèƒ½å®Œå–„
1. æ·»åŠ ç”¨æˆ·ä¸ªäººèµ„æ–™é¡µ
2. å®ç°å…³æ³¨/ç²‰ä¸ç³»ç»Ÿ
3. æ·»åŠ ç§ä¿¡åŠŸèƒ½
4. å®ç°é€šçŸ¥ç³»ç»Ÿ
5. æ·»åŠ å†…å®¹å®¡æ ¸

---

## ğŸ“š æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **ç¼–ç¨‹è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS
- **UIç»„ä»¶**: shadcn/ui
- **çŠ¶æ€ç®¡ç†**: Zustand (UIçŠ¶æ€), React Query (æœåŠ¡å™¨çŠ¶æ€)
- **æµ‹è¯•**: Vitest (å•å…ƒ), Playwright (E2E)
- **CI/CD**: Lighthouse CI
- **æ€§èƒ½ç›‘æ§**: è‡ªå®šä¹‰QoEæ—¥å¿—å™¨

---

## ğŸ™ é¡¹ç›®ç‰¹ç‚¹

1. **å®Œæ•´æ€§**: ä»é…ç½®åˆ°æµ‹è¯•çš„å®Œæ•´é¡¹ç›®ç»“æ„
2. **ç°ä»£åŒ–**: ä½¿ç”¨æœ€æ–°çš„Next.js 14 App Router
3. **å¯æ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•
4. **é«˜æ€§èƒ½**: ä¼˜åŒ–çš„åŠ è½½å’Œæ¸²æŸ“ç­–ç•¥
5. **å¯ç»´æŠ¤**: TypeScript + å®Œæ•´æµ‹è¯•è¦†ç›–
6. **ç”¨æˆ·å‹å¥½**: å“åº”å¼è®¾è®¡ + æ— éšœç¢æ”¯æŒ

---

## ğŸ“ è¯´æ˜

- é¡¹ç›®ä½¿ç”¨Googleæä¾›çš„å…¬å¼€ç¤ºä¾‹è§†é¢‘
- Mockæ•°æ®å­˜å‚¨åœ¨`public/mock/seed.json`
- å¯ä»¥é€šè¿‡ä¿®æ”¹seed.jsonæ¥è‡ªå®šä¹‰å†…å®¹
- æ‰€æœ‰APIéƒ½æ˜¯mockå®ç°ï¼Œå¯ä»¥æ›¿æ¢ä¸ºçœŸå®åç«¯

---

## ğŸŠ å®ŒæˆçŠ¶æ€

âœ… æ‰€æœ‰å¾…åŠäº‹é¡¹å·²å®Œæˆ
âœ… ä»£ç æ— linteré”™è¯¯
âœ… æµ‹è¯•æ–‡ä»¶å·²åˆ›å»º
âœ… æ–‡æ¡£å®Œæ•´
âœ… é¡¹ç›®å¯è¿è¡Œ

**é¡¹ç›®å·²å‡†å¤‡å¥½è¿›è¡Œå¼€å‘å’Œæ¼”ç¤ºï¼**

